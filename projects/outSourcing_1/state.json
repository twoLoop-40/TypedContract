{
  "project_name": "outSourcing_1",
  "current_phase": "AnalysisPhase",
  "user_prompt": "계약서: 문제 입력 용역\n발주 : 공감수학학원\n수주: (주) 스피라티\n공급가액 5065만원, 기한 10/1 ~ 12/30\n견적서를 발급해줘",
  "reference_docs": [
    "수정사업계획서 주식회사 스피라티.pdf"
  ],
  "analysis_result": "# 문서 분석 결과\n\n## 1. 문서 유형 및 목적\n**사업계획서 (정부지원 신청서)**\n- 소상공인 지원사업 신청을 위한 사업계획서\n- 정부지원금 및 자기부담금 구성을 포함한 예산 집행 계획서\n\n## 2. 주요 섹션\n\n1. **사업개요**\n   - 소상공인/운영사 현황\n   - 참여유형 (스케일딥/스케일업)\n   - 기업 기본정보\n\n2. **기업 소개 및 구성**\n   - 차별성/경쟁력\n   - 인력 구성 (내부/외부)\n   - 보유 인프라\n   - 주요 성과\n\n3. **사업 아이템 및 계획**\n   - 사업 아이템 소개\n   - 사업성 분석\n   - 추진 전략\n   - 달성목표 및 일정\n\n4. **세부 사업계획**\n   - 제품/서비스 소개\n   - 차별성\n   - 추진 세부 계획\n   - 기대효과\n\n5. **사업비 구성 및 집행**\n   - 총사업비 구성\n   - 정부지원금/자기부담금 비율\n   - 세부 집행 내역\n\n## 3. 데이터 필드\n\n### 기본 정보\n| 필드명 | 타입 | 예시 | 비고 |\n|--------|------|------|------|\n| 업체명 | String | \"주식회사 스피라티\" | |\n| 대표자 | String | \"이준호\" | |\n| 연락처 | String | \"010-4018-2468\" | |\n| 소재지 | String | \"서울특별시 강남구 언주로 122, 702호\" | |\n| 상시근로자수 | Nat | 0 | |\n| 주업종 | String | \"교육 서비스업\" | |\n| 분야 | String | \"비제조\" | |\n| 운영사업체명 | String | \"어나더 브레인\" | |\n| 담당자성명 | String | \"문영지\" | |\n\n### 참여유형\n| 필드명 | 타입 | 예시 | 비고 |\n|--------|------|------|------|\n| 스케일딥초기투자 | Bool | False | 체크박스 |\n| 스케일업후속투자 | Bool | False | 체크박스 |\n\n### 인력 구성\n| 필드명 | 타입 | 예시 | 비고 |\n|--------|------|------|------|\n| 연번 | Nat | 1 | |\n| 직위 | String | \"대표\" | |\n| 담당업무 | String | \"개발 총괄 및 S/W 협력사 관리\" | |\n| 보유역량 | String | \"서울대 경제학 학사, 서울대 수학과 석사 수료...\" | |\n| 구성상태 | String | \"완료\" | |\n\n### 보유 인프라\n| 필드명 | 타입 | 예시 | 비고 |\n|--------|------|------|------|\n| 인프라명 | String | \"수학 문제 벡터 데이터 베이스\" | |\n| 보유문항수 | Nat | 60000 | |\n\n### 사업 추진 일정\n| 필드명 | 타입 | 예시 | 비고 |\n|--------|------|------|------|\n| 순번 | Nat | 1 | |\n| 추진내용 | String | \"수학 문제 입력\" | |\n| 추진기간시작 | Date | \"10.01\" | MM.DD 형식 |\n| 추진기간종료 | Date | \"11.30\" | MM.DD 형식 |\n| 세부내용 | String | \"4만문항 이상 보충\" | |\n| 목표문항수 | Nat | 40000 | 추출 가능 시 |\n\n### 금액 정보 (사업비)\n| 필드명 | 타입 | 예시 | 비고 |\n|--------|------|------|------|\n| 총사업비 | Nat | 121430000 | 원 단위 |\n| 정부지원금 | Nat | 85000000 | 원 단위 |\n| 정부지원금비율 | Rational | 70 | 퍼센트 (≤70%) |\n| 자기부담금총액 | Nat | 36430000 | 원 단위 |\n| 자기부담금비율 | Rational | 30 | 퍼센트 (≥30%) |\n| 자기부담현금 | Nat | 12150000 | 원 단위 |\n| 자기부담현금비율 | Rational | 10 | 퍼센트 (≥10%) |\n| 자기부담현물 | Nat | 24280000 | 원 단위 |\n| 자기부담현물비율 | Rational | 20 | 퍼센트 (≤20%) |\n\n### 집행 내역\n| 필드명 | 타입 | 예시 | 비고 |\n|--------|------|------|------|\n| 집행항목 | String | \"일반용역비\" | |\n| 세부항목 | String | \"프로그램 고도화\" | |\n| 세부내용 | String | \"오류검수, 변형문항 및 생성, 매드튜터\" | |\n| 정부지원금 | Nat | 20000000 | 원 단위 |\n| 대응자금현금 | Nat | 0 | 원 단위 |\n| 대응자금현물 | Nat | 0 | 원 단위 |\n| 합계 | Nat | 20000000 | 원 단위 |\n\n## 4. 불변식 (Invariants)\n\n### 금액 계산 규칙:\n```idris\n-- 총사업비 구성\n총사업비 = 정부지원금 + 자기부담금총액\n자기부담금총액 = 자기부담현금 + 자기부담현물\n\n-- 비율 제약\n정부지원금비율 ≤ 70%\n자기부담금비율 ≥ 30%\n자기부담현금비율 ≥ 10%\n자기부담현물비율 ≤ 20%\n\n-- 비율 합계\n정부지원금비율 + 자기부담금비율 = 100%\n자기부담현금비율 + 자기부담현물비율 = 자기부담금비율\n\n-- 금액 계산\n정부지원금 = 총사업비 × (정부지원금비율 / 100)\n자기부담현금 = 총사업비 × (자기부담현금비율 / 100)\n자기부담현물 = 총사업비 × (자기부담현물비율 / 100)\n\n-- 집행내역 합계\nΣ(각 항목의 합계) = 총사업비\nΣ(각 항목의 정부지원금) = 정부지원금\nΣ(각 항목의 대응자금현금) = 자기부담현금\nΣ(각 항목의 대응자금현물) = 자기부담현물\n\n-- 항목별 합계\n항목합계 = 항목정부지원금 + 항목대응자금현금 + 항목대응자금현물\n```\n\n### 날짜 제약:\n```idris\n-- 추진 기간\n추진기간시작 < 추진기간종료\n\n-- 협약 기간 내\n모든 추진기간 ⊆ 협약기간\n\n-- 순차적 일정 (선택적)\n순번(n)의 종료일 ≤ 순번(n+1)의 시작일 (중첩 가능)\n```\n\n### 수량 제약:\n```idris\n-- 문항 수 증가\n목표문항수 > 현재문항수\n현재문항수 = 60000 (초기값)\n목표문항수 ≥ 100000 (4만 문항 이상 추가)\n\n-- 근로자 수\n상시근로자수 ≥ 0\n```\n\n### 비율 정합성:\n```idris\n-- 정부지원금 비율 범위\n0 ≤ 정부지원금비율 ≤ 70\n\n-- 자기부담금 비율 범위\n30 ≤ 자기부담금비율 ≤ 100\n\n-- 현금/현물 비율 범위\n10 ≤ 자기부담현금비율\n자기부담현물비율 ≤ 20\n자기부담현금비율 + 자기부담현물비율 = 자기부담금비율\n```\n\n## 5. 반복 구조 (리스트)\n\n### 인력 구성 목록\n```idris\ndata 인력구성 = MkPersonnel {\n  연번 : Nat,\n  직위 : String,\n  담당업무 : String,\n  보유역량 : String,\n  구성상태 : String\n}\n\n인력목록 : List 인력구성\n```\n\n### 보유 인프라 목록\n```idris\ndata 인프라 = MkInfra {\n  인프라명 : String,\n  세부내용 : String,\n  보유문항수 : Maybe Nat\n}\n\n인프라목록 : List 인프라\n```\n\n### 사업 추진 일정 목록\n```idris\ndata 추진일정 = MkSchedule {\n  순번 : Nat,\n  추진내용 : String,\n  추진기간시작 : Date,\n  추진기간종료 : Date,\n  세부내용 : String\n}\n\n일정목록 : List 추진일정\n-- 제약: 순번은 1부터 연속적\n-- 제약: 모든 기간은 협약기간 내\n```\n\n### 집행 내역 목록\n```idris\ndata 집행항목 = MkExpenseItem {\n  집행항목 : String,\n  세부항목 : String,\n  세부내용 : String,\n  정부지원금 : Nat,\n  대응자금현금 : Nat,\n  대응자금현물 : Nat,\n  합계 : Nat\n}\n\n집행내역목록 : List 집행항목\n-- 제약: 각 항목의 합계 = 정부지원금 + 대응자금현금 + 대응자금현물\n-- 제약: 전체 합계 = 총사업비\n```\n\n### 집행 항목 분류\n- **일반용역비**: 프로그램 고도화, 문제 입력, 마케팅 외주\n- **일반수용비**: 수수료 및 사용료, 홍보비, 전문가활용비, 해외진출비\n- **임차료**: 기기/장비 임차비\n- **재료비**: 개발용 컴퓨터 구입\n- **임차료(현물)**: 사업장 내 기계장비 임차료 및 관리비\n- **인건비(현물)**: 대표자 인건비\n\n## 6. 계층 구조\n\n```idris\ndata 사업계획서 = MkBusinessPlan {\n  -- 1. 사업개요\n  사업개요 : 사업개요정보,\n  \n  -- 2. 기업 소개\n  기업소개 : 기업정보,\n  \n  -- 3. 사업 아이템\n  사업아이템 : 사업아이템정보,\n  \n  -- 4. 세부 사업계획\n  세부계획 : 세부사업계획,\n  \n  -- 5. 사업비 구성\n  사업비 : 사업비정보\n}\n\ndata 사업개요정보 = MkOverview {\n  참여유형 : 참여유형,\n  업체정보 : 업체기본정보,\n  운영사정보 : 운영사정보\n}\n\ndata 참여유형 = \n  스케일딥초기투자 | \n  스케일업후속투자\n\ndata 업체기본정보 = MkCompanyInfo {\n  업체명 : String,\n  대표자 : String,\n  연락처 : String,\n  소재지 : String,\n  상시근로자수 : Nat,\n  주업종 : String,\n  분야 : String\n}\n\ndata 운영사정보 = MkOperatorInfo {\n  운영사업체명 : String,\n  담당자성명 : String\n}\n\ndata 기업정보 = MkCompanyDetails {\n  차별성경쟁력 : String,\n  기업구성 : List 인력구성,\n  보유인프라 : List 인프라,\n  주요성과 : List String\n}\n\ndata 사업아이템정보 = MkBusinessItem {\n  사업아이템소개 : String,\n  지원동기 : String,\n  사업성분석 : String,\n  추진전략 : String,\n  향후사업계획 : String,\n  기대효과 : String,\n  달성목표 : 달성목표정보\n}\n\ndata 달성목표정보 = MkGoals {\n  협약기간 : 기간,\n  목표내용 : List String,\n  추진일정 : List 추진일정\n}\n\ndata 기간 = MkPeriod {\n  시작일 : Date,\n  종료일 : Date\n}\n\ndata 세부사업계획 = MkDetailedPlan {\n  사업아이템명 : String,\n  제품서비스소개 : String,\n  제품서비스차별성 : String,\n  달성목표세부계획 : String,\n  사업추진전략 : String,\n  기대효과 : String\n}\n\ndata 사업비정보 = MkBudget {\n  총사업비 : Nat,\n  정부지원금 : 지원금정보,\n  자기부담금 : 부담금정보,\n  집행내역 : List 집행항목\n}\n\ndata 지원금정보 = MkGrant {\n  금액 : Nat,\n  비율 : Rational,\n  비율제약 : 비율 <= 70\n}\n\ndata 부담금정보 = MkContribution {\n  총액 : Nat,\n  비율 : Rational,\n  현금 : 현금정보,\n  현물 : 현물정보,\n  비율제약 : 비율 >= 30\n}\n\ndata 현금정보 = MkCash {\n  금액 : Nat,\n  비율 : Rational,\n  비율제약 : 비율 >= 10\n}\n\ndata 현물정보 = MkInKind {\n  금액 : Nat,\n  비율 : Rational,\n  비율제약 : 비율 <= 20\n}\n```\n\n## 7. 도메인 특화 제약사항\n\n### 사업 추진 일정 제약\n```idris\n-- 4단계 순차 진행\n일정1: \"수학 문제 입력\" (10.01 ~ 11.30)\n일정2: \"자동 오류 검수 시스템 개발\" (10.01 ~ 12.30)\n일정3: \"자동 문제 변형 시스템 개발\" (12.01 ~ 02.28)\n일정4: \"AI 튜터 시스템 개발\" (01.01 ~ 03.31)\n\n-- 일정 중첩 허용 (병렬 진행 가능)\n일정1과 일정2는 동시 시작\n일정3과 일정4는 부분 중첩\n```\n\n### 문항 수 목표\n```idris\n현재문항수 = 60000\n추가목표 = 40000\n최종목표 = 100000\n\n-- 불변식\n최종목표 = 현재문항수 + 추가목표\n```\n\n### 집행 항목별 제약\n```idris\n-- 일반용역비 세부 항목\n프로그램고도화 : 정부지원금만 사용 (20,000,000)\n문제입력 : 정부지원금 + 현금 (40,000,000 + 10,650,000)\n마케팅외주 : 정부지원금만 사용 (7,500,000)\n\n-- 재료비\n개발용컴퓨터 : 정부지원금 + 현금 (12,500,000 + 1,500,000)\n\n-- 현물 항목\n임차료현물 : 0 (미사용)\n인건비현물 : 24,280,000 (대표자 인건비)\n```\n\n### 비율 검증\n```idris\n-- 실제 값 검증\n총사업비 = 121,430,000\n정부지원금 = 85,000,000 (70%)\n자기부담현금 = 12,150,000 (10%)\n자기부담현물 = 24,280,000 (20%)\n\n-- 검증식\n85,000,000 / 121,430,000 ≈ 0.70 ✓\n12,150,000 / 121,430,000 ≈ 0.10 ✓\n24,280,000 / 121,430,000 ≈ 0.20 ✓\n(12,150,000 + 24,280,000) / 121,430,000 ≈ 0.30 ✓\n```\n\n이 분석을 바탕으로 Idris2의 의존 타입 시스템을 활용하여 모든 계산 규칙과 제약조건을 컴파일 타임에 검증할 수 있는 도메인 모델을 작성할 수 있습니다.",
  "spec_code": "module Domains.Outsourcing1\n\nimport Data.String\nimport Data.List\nimport Decidable.Equality\n\n------------------------------------------------------------\n-- Layer 1: 기본 데이터 구조\n------------------------------------------------------------\n\npublic export\nrecord Money where\n  constructor MkMoney\n  value : Nat\n  desc : String\n\npublic export\nrecord DateMMDD where\n  constructor MkDateMMDD\n  month : Nat\n  day : Nat\n\npublic export\nrecord Percentage where\n  constructor MkPercentage\n  value : Nat  -- 0 to 100\n\npublic export\ndata ParticipationType = ScaleDeepInitial | ScaleUpFollowup\n\npublic export\nEq ParticipationType where\n  ScaleDeepInitial == ScaleDeepInitial = True\n  ScaleUpFollowup == ScaleUpFollowup = True\n  _ == _ = False\n\n------------------------------------------------------------\n-- Layer 2: 검증된 타입 (불변식 증명)\n------------------------------------------------------------\n\n-- 정부지원금 비율 (≤70%)\npublic export\ndata GovernmentGrantRatio : Type where\n  MkGrantRatio : (ratio : Nat) \n    -> {auto pf : LTE ratio 70}\n    -> GovernmentGrantRatio\n\npublic export\ngetGrantRatio : GovernmentGrantRatio -> Nat\ngetGrantRatio (MkGrantRatio r) = r\n\n-- 자기부담금 비율 (≥30%)\npublic export\ndata SelfContributionRatio : Type where\n  MkSelfRatio : (ratio : Nat)\n    -> {auto pf : LTE 30 ratio}\n    -> SelfContributionRatio\n\npublic export\ngetSelfRatio : SelfContributionRatio -> Nat\ngetSelfRatio (MkSelfRatio r) = r\n\n-- 현금 비율 (≥10%)\npublic export\ndata CashRatio : Type where\n  MkCashRatio : (ratio : Nat)\n    -> {auto pf : LTE 10 ratio}\n    -> CashRatio\n\npublic export\ngetCashRatio : CashRatio -> Nat\ngetCashRatio (MkCashRatio r) = r\n\n-- 현물 비율 (≤20%)\npublic export\ndata InKindRatio : Type where\n  MkInKindRatio : (ratio : Nat)\n    -> {auto pf : LTE ratio 20}\n    -> InKindRatio\n\npublic export\ngetInKindRatio : InKindRatio -> Nat\ngetInKindRatio (MkInKindRatio r) = r\n\n-- 비율 합계 100% 증명\npublic export\ndata RatioSum100 : Type where\n  MkRatioSum : (grantRatio : Nat)\n    -> (selfRatio : Nat)\n    -> (pf : plus grantRatio selfRatio = 100)\n    -> RatioSum100\n\n-- 금액 구성 증명\npublic export\ndata BudgetComposition : Type where\n  MkBudgetComp : (total : Nat)\n    -> (grant : Nat)\n    -> (selfTotal : Nat)\n    -> (cash : Nat)\n    -> (inKind : Nat)\n    -> (pfTotal : total = plus grant selfTotal)\n    -> (pfSelf : selfTotal = plus cash inKind)\n    -> BudgetComposition\n\n-- 집행항목 합계 증명\npublic export\ndata ExpenseItemTotal : Type where\n  MkExpenseTotal : (grant : Nat)\n    -> (cash : Nat)\n    -> (inKind : Nat)\n    -> (total : Nat)\n    -> (pf : total = plus grant (plus cash inKind))\n    -> ExpenseItemTotal\n\npublic export\nmkExpenseTotal : (g : Nat) -> (c : Nat) -> (i : Nat) -> ExpenseItemTotal\nmkExpenseTotal g c i = MkExpenseTotal g c i (plus g (plus c i)) Refl\n\n-- 날짜 순서 증명 (간단한 버전)\npublic export\ndata DateOrder : Type where\n  MkDateOrder : (startMonth : Nat)\n    -> (startDay : Nat)\n    -> (endMonth : Nat)\n    -> (endDay : Nat)\n    -> (pf : Either (LT startMonth endMonth) \n                    (startMonth = endMonth, LTE startDay endDay))\n    -> DateOrder\n\n------------------------------------------------------------\n-- Layer 3: 도메인 엔티티\n------------------------------------------------------------\n\npublic export\nrecord CompanyBasicInfo where\n  constructor MkCompanyBasicInfo\n  companyName : String\n  representative : String\n  contact : String\n  address : String\n  regularEmployees : Nat\n  mainIndustry : String\n  sector : String\n\npublic export\nrecord OperatorInfo where\n  constructor MkOperatorInfo\n  operatorName : String\n  managerName : String\n\npublic export\nrecord Personnel where\n  constructor MkPersonnel\n  seqNo : Nat\n  position : String\n  responsibility : String\n  capability : String\n  status : String\n\npublic export\nrecord Infrastructure where\n  constructor MkInfrastructure\n  name : String\n  details : String\n  itemCount : Maybe Nat\n\npublic export\nrecord Schedule where\n  constructor MkSchedule\n  seqNo : Nat\n  content : String\n  startDate : DateMMDD\n  endDate : DateMMDD\n  details : String\n  targetCount : Maybe Nat\n\npublic export\nrecord ExpenseItem where\n  constructor MkExpenseItem\n  category : String\n  subCategory : String\n  details : String\n  governmentGrant : Nat\n  cashContribution : Nat\n  inKindContribution : Nat\n  itemTotal : ExpenseItemTotal\n\npublic export\nrecord GrantInfo where\n  constructor MkGrantInfo\n  amount : Nat\n  ratio : GovernmentGrantRatio\n\npublic export\nrecord CashInfo where\n  constructor MkCashInfo\n  amount : Nat\n  ratio : CashRatio\n\npublic export\nrecord InKindInfo where\n  constructor MkInKindInfo\n  amount : Nat\n  ratio : InKindRatio\n\npublic export\nrecord ContributionInfo where\n  constructor MkContributionInfo\n  totalAmount : Nat\n  ratio : SelfContributionRatio\n  cash : CashInfo\n  inKind : InKindInfo\n\npublic export\nrecord BudgetInfo where\n  constructor MkBudgetInfo\n  totalBudget : Nat\n  grant : GrantInfo\n  contribution : ContributionInfo\n  composition : BudgetComposition\n  expenseItems : List ExpenseItem\n\npublic export\nrecord Period where\n  constructor MkPeriod\n  startDate : DateMMDD\n  endDate : DateMMDD\n\npublic export\nrecord GoalInfo where\n  constructor MkGoalInfo\n  contractPeriod : Period\n  objectives : List String\n  schedules : List Schedule\n\npublic export\nrecord BusinessItemInfo where\n  constructor MkBusinessItemInfo\n  itemIntroduction : String\n  supportMotivation : String\n  feasibilityAnalysis : String\n  strategy : String\n  futurePlan : String\n  expectedEffect : String\n  goals : GoalInfo\n\npublic export\nrecord CompanyDetails where\n  constructor MkCompanyDetails\n  differentiation : String\n  personnel : List Personnel\n  infrastructure : List Infrastructure\n  achievements : List String\n\npublic export\nrecord DetailedPlan where\n  constructor MkDetailedPlan\n  itemName : String\n  productServiceIntro : String\n  productServiceDiff : String\n  goalDetailedPlan : String\n  executionStrategy : String\n  expectedEffect : String\n\npublic export\nrecord Overview where\n  constructor MkOverview\n  participationType : ParticipationType\n  companyInfo : CompanyBasicInfo\n  operatorInfo : OperatorInfo\n\n------------------------------------------------------------\n-- Layer 4: 집합 루트\n------------------------------------------------------------\n\npublic export\nrecord BusinessPlan where\n  constructor MkBusinessPlan\n  overview : Overview\n  companyDetails : CompanyDetails\n  businessItem : BusinessItemInfo\n  detailedPlan : DetailedPlan\n  budget : BudgetInfo\n\n------------------------------------------------------------\n-- Layer 5: 구체적 데이터 인스턴스\n------------------------------------------------------------\n\npublic export\nexampleCompanyInfo : CompanyBasicInfo\nexampleCompanyInfo = MkCompanyBasicInfo\n  \"주식회사 스피라티\"\n  \"이준호\"\n  \"010-4018-2468\"\n  \"서울특별시 강남구 언주로 122, 702호\"\n  0\n  \"교육 서비스업\"\n  \"비제조\"\n\npublic export\nexampleOperatorInfo : OperatorInfo\nexampleOperatorInfo = MkOperatorInfo\n  \"어나더 브레인\"\n  \"문영지\"\n\npublic export\nexamplePersonnel1 : Personnel\nexamplePersonnel1 = MkPersonnel\n  1\n  \"대표\"\n  \"개발 총괄 및 S/W 협력사 관리\"\n  \"서울대 경제학 학사, 서울대 수학과 석사 수료\"\n  \"완료\"\n\npublic export\nexampleInfra1 : Infrastructure\nexampleInfra1 = MkInfrastructure\n  \"수학 문제 벡터 데이터 베이스\"\n  \"초중고 수학 문제 60,000문항 보유\"\n  (Just 60000)\n\npublic export\nexampleSchedule1 : Schedule\nexampleSchedule1 = MkSchedule\n  1\n  \"수학 문제 입력\"\n  (MkDateMMDD 10 1)\n  (MkDateMMDD 11 30)\n  \"4만문항 이상 보충\"\n  (Just 40000)\n\npublic export\nexampleSchedule2 : Schedule\nexampleSchedule2 = MkSchedule\n  2\n  \"자동 오류 검수 시스템 개발\"\n  (MkDateMMDD 10 1)\n  (MkDateMMDD 12 30)\n  \"문제 오류 자동 검수\"\n  Nothing\n\npublic export\nexampleSchedule3 : Schedule\nexampleSchedule3 = MkSchedule\n  3\n  \"자동 문제 변형 시스템 개발\"\n  (MkDateMMDD 12 1)\n  (MkDateMMDD 2 28)\n  \"변형 문항 자동 생성\"\n  Nothing\n\npublic export\nexampleSchedule4 : Schedule\nexampleSchedule4 = MkSchedule\n  4\n  \"AI 튜터 시스템 개발\"\n  (MkDateMMDD 1 1)\n  (MkDateMMDD 3 31)\n  \"매드튜터 시스템 개발\"\n  Nothing\n\npublic export\nexampleExpense1 : ExpenseItem\nexampleExpense1 = MkExpenseItem\n  \"일반용역비\"\n  \"프로그램 고도화\"\n  \"오류검수, 변형문항 및 생성, 매드튜터\"\n  20000000\n  0\n  0\n  (mkExpenseTotal 20000000 0 0)\n\npublic export\nexampleExpense2 : ExpenseItem\nexampleExpense2 = MkExpenseItem\n  \"일반용역비\"\n  \"문제 입력\"\n  \"수학 문제 4만 문항 이상 입력\"\n  40000000\n  10650000\n  0\n  (mkExpenseTotal 40000000 10650000 0)\n\npublic export\nexampleExpense3 : ExpenseItem\nexampleExpense3 = MkExpenseItem\n  \"일반용역비\"\n  \"마케팅 외주\"\n  \"온라인 마케팅 대행\"\n  7500000\n  0\n  0\n  (mkExpenseTotal 7500000 0 0)\n\npublic export\nexampleExpense4 : ExpenseItem\nexampleExpense4 = MkExpenseItem\n  \"재료비\"\n  \"개발용 컴퓨터 구입\"\n  \"고성능 개발 장비\"\n  12500000\n  1500000\n  0\n  (mkExpenseTotal 12500000 1500000 0)\n\npublic export\nexampleExpense5 : ExpenseItem\nexampleExpense5 = MkExpenseItem\n  \"인건비(현물)\"\n  \"대표자 인건비\"\n  \"대표자 급여\"\n  0\n  0\n  24280000\n  (mkExpenseTotal 0 0 24280000)\n\npublic export\nexampleGrantInfo : GrantInfo\nexampleGrantInfo = MkGrantInfo\n  85000000\n  (MkGrantRatio 70)\n\npublic export\nexampleCashInfo : CashInfo\nexampleCashInfo = MkCashInfo\n  12150000\n  (MkCashRatio 10)\n\npublic export\nexampleInKindInfo : InKindInfo\nexampleInKindInfo = MkInKindInfo\n  24280000\n  (MkInKindRatio 20)\n\npublic export\nexampleContributionInfo : ContributionInfo\nexampleContributionInfo = MkContributionInfo\n  36430000\n  (MkSelfRatio 30)\n  exampleCashInfo\n  exampleInKindInfo\n\npublic export\nexampleBudgetComposition : BudgetComposition\nexampleBudgetComposition = MkBudgetComp\n  121430000\n  85000000\n  36430000\n  12150000\n  24280000\n  Refl\n  Refl\n\npublic export\nexampleBudgetInfo : BudgetInfo\nexampleBudgetInfo = MkBudgetInfo\n  121430000\n  exampleGrantInfo\n  exampleContributionInfo\n  exampleBudgetComposition\n  [ exampleExpense1\n  , exampleExpense2\n  , exampleExpense3\n  , exampleExpense4\n  , exampleExpense5\n  ]\n\npublic export\nexamplePeriod : Period\nexamplePeriod = MkPeriod\n  (MkDateMMDD 10 1)\n  (MkDateMMDD 3 31)\n\npublic export\nexampleGoalInfo : GoalInfo\nexampleGoalInfo = MkGoalInfo\n  examplePeriod\n  [ \"수학 문제 4만 문항 이상 추가 입력\"\n  , \"자동 오류 검수 시스템 개발\"\n  , \"자동 문제 변형 시스템 개발\"\n  , \"AI 튜터 시스템 개발\"\n  ]\n  [ exampleSchedule1\n  , exampleSchedule2\n  , exampleSchedule3\n  , exampleSchedule4\n  ]\n\npublic export\nexampleBusinessItemInfo : BusinessItemInfo\nexampleBusinessItemInfo = MkBusinessItemInfo\n  \"AI 기반 수학 학습 플랫폼\"\n  \"교육 서비스 고도화를 통한 경쟁력 강화\"\n  \"수학 교육 시장의 성장성과 AI 기술 접목 가능성\"\n  \"단계별 시스템 개발 및 문항 확보\"\n  \"서비스 확장 및 시장 점유율 확대\"\n  \"교육 품질 향상 및 매출 증대\"\n  exampleGoalInfo\n\npublic export\nexampleCompanyDetails : CompanyDetails\nexampleCompanyDetails = MkCompanyDetails\n  \"AI 기반 맞춤형 수학 교육 솔루션\"\n  [examplePersonnel1]\n  [exampleInfra1]\n  [\"수학 문제 데이터베이스 60,000문항 구축\"]\n\npublic export\nexampleDetailedPlan : DetailedPlan\nexampleDetailedPlan = MkDetailedPlan\n  \"AI 수학 학습 플랫폼\"\n  \"자동 오류 검수, 문제 변형, AI 튜터 기능 제공\"\n  \"대규모 문항 DB와 AI 기술 결합\"\n  \"4단계 개발 일정에 따른 순차적 구현\"\n  \"외주 개발 및 내부 역량 활용\"\n  \"교육 서비스 품질 향상 및 시장 경쟁력 강화\"\n\npublic export\nexampleOverview : Overview\nexampleOverview = MkOverview\n  ScaleUpFollowup\n  exampleCompanyInfo\n  exampleOperatorInfo\n\npublic export\nexampleBusinessPlan : BusinessPlan\nexampleBusinessPlan = MkBusinessPlan\n  exampleOverview\n  exampleCompanyDetails\n  exampleBusinessItemInfo\n  exampleDetailedPlan\n  exampleBudgetInfo",
  "spec_file": null,
  "compile_attempts": 3,
  "compile_result": {
    "success": false,
    "error_msg": "1/1: Building Domains.Outsourcing1 (Domains/Outsourcing1.idr)\nError: Expected a type declaration.\n\nDomains.Outsourcing1:96:16--96:17\n 92 | \n 93 | -- 금액 구성 증명\n 94 | public export\n 95 | data BudgetComposition : Type where\n 96 |   MkBudgetComp : (total : Nat)\n                     ^\n\n"
  },
  "classified_error": null,
  "error_strategy": null,
  "error_suggestion": null,
  "user_action": null,
  "error_history": [
    "1/1: Building Domains.Outsourcing1 (Domains/Outsourcing1.idr) Error: Couldn't parse any alternatives: 1: Expected 'case', 'if', 'do', application or o",
    "1/1: Building Domains.Outsourcing1 (Domains/Outsourcing1.idr) Error: Couldn't parse any alternatives: 1: Expected 'case', 'if', 'do', application or o",
    "1/1: Building Domains.Outsourcing1 (Domains/Outsourcing1.idr) Error: Expected a type declaration. Domains.Outsourcing1:96:16--96:17 92 | 93 | -- 금액 구성",
    "1/1: Building Domains.Outsourcing1 (Domains/Outsourcing1.idr) Error: Expected a type declaration. Domains.Outsourcing1:96:16--96:17 92 | 93 | -- 금액 구성",
    "1/1: Building Domains.Outsourcing1 (Domains/Outsourcing1.idr) Error: Expected a type declaration. Domains.Outsourcing1:96:16--96:17 92 | 93 | -- 금액 구성"
  ],
  "documentable_impl": null,
  "pipeline_impl": null,
  "draft_text": null,
  "draft_markdown": null,
  "draft_csv": null,
  "version": 1,
  "feedback_history": [],
  "user_satisfaction": null,
  "generate_pdf": false,
  "final_pdf_path": null,
  "completed": false,
  "logs": [
    "[03:28:01] 📄 문서 분석 시작...",
    "[03:28:14] ✅ 문서 분석 완료: 1개 문서 처리",
    "[03:28:14] ⚙️  Idris2 코드 생성 시작: Outsourcing1",
    "[03:28:39] ✅ Idris2 코드 생성 완료: 5329 chars",
    "[03:28:39] 🔍 타입 체크 시작 (시도 1)",
    "[03:28:39] ✅ 컴파일 성공!",
    "[03:28:39] 🔀 다음 액션 결정 중... (성공: True, 시도: 1)",
    "[03:28:39] 🎉 워크플로우 완료! Phase 5로 진행",
    "[03:28:39] 📝 Phase 5: Documentable 인스턴스 생성 시작",
    "[04:25:12] 📝 프롬프트 업데이트됨",
    "[04:25:12] 🔄 Phase 2 (분석)부터 재시작",
    "[04:25:12] 🔵 프로젝트 재개 중...",
    "[04:27:57] ⏸️ 사용자가 실행을 중단했습니다",
    "[04:50:43] 🔵 프로젝트 재개 중...",
    "[04:50:43] 🔄 프로젝트 재개",
    "[04:50:43] 📄 문서 분석 시작...",
    "[04:51:48] ✅ 문서 분석 완료: 1개 문서 처리",
    "[04:51:48] ⚙️  Idris2 코드 생성 시작: Outsourcing1",
    "[04:52:33] ✅ Idris2 코드 생성 완료: 8031 chars",
    "[04:52:33] 🔍 타입 체크 시작 (시도 1)",
    "[04:52:33] ❌ 컴파일 실패 (시도 1)",
    "[04:52:33] 🔍 에러 분류 중...",
    "[04:52:33] 📋 에러 레벨: syntax, 자동 수정: 가능",
    "[04:52:33] 🎯 처리 전략: auto_fix",
    "[04:52:33] 🔀 다음 액션 결정 중... (성공: False, 시도: 1)",
    "[04:52:33] 🔄 에러 자동 수정 시도 예정 (다음 시도: 2)",
    "[04:52:33] 🔧 에러 수정 시작 (시도 1, 레벨: syntax)",
    "[04:52:59] ✅ 에러 수정 완료, 재시도 예정",
    "[04:52:59] 🔍 타입 체크 시작 (시도 2)",
    "[04:52:59] ❌ 컴파일 실패 (시도 2)",
    "[04:52:59] 🔍 에러 분류 중...",
    "[04:52:59] 📋 에러 레벨: syntax, 자동 수정: 가능",
    "[04:52:59] 🎯 처리 전략: auto_fix",
    "[04:52:59] 🔀 다음 액션 결정 중... (성공: False, 시도: 2)",
    "[04:52:59] 🔄 에러 자동 수정 시도 예정 (다음 시도: 3)",
    "[04:52:59] 🔧 에러 수정 시작 (시도 2, 레벨: syntax)",
    "[04:53:25] ✅ 에러 수정 완료, 재시도 예정",
    "[04:53:25] 🔍 타입 체크 시작 (시도 3)",
    "[04:53:25] ❌ 컴파일 실패 (시도 3)",
    "[04:53:25] 🔍 에러 분류 중...",
    "[04:53:25] 📋 에러 레벨: syntax, 자동 수정: 가능",
    "[04:53:25] 🎯 처리 전략: auto_fix",
    "[04:53:25] 🔀 다음 액션 결정 중... (성공: False, 시도: 3)",
    "[04:53:25] ⛔ 동일 에러 3회 반복 감지 - 중단: 1/1: Building Domains.Outsourcing1 (Domains/Outsou...",
    "[04:56:46] 📝 프롬프트 업데이트됨",
    "[04:56:46] 🔄 Phase 2 (분석)부터 재시작",
    "[04:56:46] 🔵 프로젝트 재개 중...",
    "[05:08:41] 🔵 프로젝트 재개 중...",
    "[05:08:41] 🔄 프로젝트 재개",
    "[05:08:41] 📄 문서 분석 시작...",
    "[05:09:53] ✅ 문서 분석 완료: 1개 문서 처리",
    "[05:09:53] ⚙️  Idris2 코드 생성 시작: Outsourcing1",
    "[05:10:50] ✅ Idris2 코드 생성 완료: 10939 chars",
    "[05:10:50] 🔍 타입 체크 시작 (시도 1)",
    "[05:10:50] ❌ 컴파일 실패 (시도 1)",
    "[05:10:50] 🔍 에러 분류 중...",
    "[05:10:50] 📋 에러 레벨: syntax, 자동 수정: 가능",
    "[05:10:50] 🎯 처리 전략: auto_fix",
    "[05:10:50] 🔀 다음 액션 결정 중... (성공: False, 시도: 1)",
    "[05:10:50] 🔄 에러 자동 수정 시도 예정 (다음 시도: 2)",
    "[05:10:50] 🔧 에러 수정 시작 (시도 1, 레벨: syntax)",
    "[05:11:42] ✅ 에러 수정 완료, 재시도 예정",
    "[05:11:42] 🔍 타입 체크 시작 (시도 2)",
    "[05:11:42] ❌ 컴파일 실패 (시도 2)",
    "[05:11:42] 🔍 에러 분류 중...",
    "[05:11:42] 📋 에러 레벨: syntax, 자동 수정: 가능",
    "[05:11:42] 🎯 처리 전략: auto_fix",
    "[05:11:42] 🔀 다음 액션 결정 중... (성공: False, 시도: 2)",
    "[05:11:42] 🔄 에러 자동 수정 시도 예정 (다음 시도: 3)",
    "[05:11:42] 🔧 에러 수정 시작 (시도 2, 레벨: syntax)",
    "[05:12:34] ✅ 에러 수정 완료, 재시도 예정",
    "[05:12:34] 🔍 타입 체크 시작 (시도 3)",
    "[05:12:35] ❌ 컴파일 실패 (시도 3)",
    "[05:12:35] 🔍 에러 분류 중...",
    "[05:12:35] 📋 에러 레벨: syntax, 자동 수정: 가능",
    "[05:12:35] 🎯 처리 전략: auto_fix",
    "[05:12:35] 🔀 다음 액션 결정 중... (성공: False, 시도: 3)",
    "[05:12:35] ⛔ 동일 에러 3회 반복 - 사용자 개입 필요: 1/1: Building Domains.Outsourcing1 (Domains/Outsou..."
  ],
  "is_active": false,
  "last_activity": "2025-10-27T05:12:35.160079",
  "current_action": null
}